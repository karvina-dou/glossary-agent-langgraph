Enhanced Interior Gateway Routing Protocol(EIGRP) is an advanceddistance-vector routing protocolthat is used on acomputer networkfor automatingroutingdecisions and configuration. The protocol was designed byCisco Systemsas a proprietary protocol, available only on Cisco routers. In 2013, Cisco permitted other vendors to freely implement a limited version of EIGRP with some of its associated features such as High Availability (HA), while withholding other EIGRP features such as EIGRP stub, needed forDMVPNand large-scale campus deployment. Information needed for implementation was published with informational status asRFC7868in 2016, which did not advance to Internet Standards Track level, and allowed Cisco to retain control of the EIGRP protocol.
EIGRP is used on arouterto share routes with other routers within the sameautonomous system. Unlike other well known routing protocols, such asRIP, EIGRP only sendsincremental updates, reducing the workload on the router and the amount of data that needs to be transmitted.
EIGRP replaced theInterior Gateway Routing Protocol(IGRP) in 1993. One of the major reasons for this was the change toclasslessIPv4 addressesin theInternet Protocol, which IGRP could not support.
Almost allrouterscontain arouting tablethat contains rules by which traffic is forwarded in a network. If the router does not contain a valid path to the destination, the traffic is discarded. EIGRP is adynamic routingprotocol by which routers automatically share route information. This eases the workload on anetwork administratorwho does not have to configure changes to therouting tablemanually.
In addition to therouting table, EIGRP uses the following tables to store information:
Information in the topology table may be inserted into the router'srouting tableand can then be used to forward traffic. If the network changes (for example, a physical link fails or is disconnected), the path will become unavailable. EIGRP is designed to detect these changes and will attempt to find a new path to the destination. The old path that is no longer available is removed from the routing table. Unlike most distance vector routing protocols, EIGRP does not transmit all the data in the router'srouting tablewhen a change is made, but will only transmit the changes that have been made since the routing table was last updated. EIGRP does not send its routing table periodically, but will only send routing table data when an actual change has occurred. This behavior is more inline withlink-state routing protocols, thus EIGRP is mostly considered a hybrid protocol.
When arouterrunning EIGRP is connected to another router also running EIGRP, information is exchanged between the two routers. They form a relationship, known as anadjacency. The entire routing table is exchanged between both routers at this time. After the exchange has completed, only differential changes are sent.
EIGRP is often considered a hybrid protocol because it also sends link state updates when link states change.
EIGRP supports the following features:
Example of setting up EIGRP on a Cisco IOS router for aprivate network. The 0.0.15.255wildcardin this example indicates a subnetwork with a maximum of 4094 hosts—it is thebitwise complementof thesubnet mask255.255.240.0. Theno auto-summarycommand prevents automaticroute summarizationon classful boundaries, which would otherwise result in routing loops in discontiguous networks.
EIGRP is a distance vector & Link Staterouting protocolthat uses thediffusing update algorithm(DUAL) (based on work fromSRI International) to improve the efficiency of the protocol and to help prevent calculation errors when attempting to determine the best path to aremote network. EIGRP determines the value of the path using five metrics: bandwidth, load, delay, reliability and MTU.EIGRP uses five different messages to communicate with its neighbor routers – Hello, Update, Query, Reply, and Acknowledgement.
EIGRP routing information, exchanged to a router from another router within the same autonomous system, has a defaultadministrative distanceof 90. EIGRP routing information, that has come from an EIGRP-enabled router outside the autonomous system, has a defaultadministrative distanceof 170.
EIGRP does not operate using theTransmission Control Protocol(TCP) or theUser Datagram Protocol(UDP). This means that EIGRP does not use aport numberto identify traffic. Rather, EIGRP is designed to work on top of Layer 3 (i.e. the IP protocol). Since EIGRP does not use TCP for communication, it implements Cisco'sReliable Transport Protocol(RTP) to ensure that EIGRP router updates are delivered to all neighbors completely.The Reliable Transport Protocol also contains other mechanisms to maximize efficiency and supportmulticasting.EIGRP uses 224.0.0.10 as its multicast address andprotocol number88.
Cisco Systems now classifies EIGRP as a distance vector routing protocol, but it is normally said to be a hybrid routing protocol.While EIGRP is an advanced routing protocol that combines many of the features of both link-state and distance-vector routing protocols, EIGRP'sDUAL algorithmcontains many features which make it more of a distance vector routing protocol than a link-state routing protocol.Despite this, EIGRP contains many differences from most other distance-vector routing protocols, including:
EIGRP associates six different vector metrics with each route and considers only four of the vector metrics in computing the Composite metric:
The composite routing metric calculation uses five parameters, so-called K values, K1 through K5. These act as multipliers or modifiers in the composite metric calculation. K1 is not equal to Bandwidth, etc.
By default, only total delay and minimum bandwidth are considered when EIGRP is started on a router, but an administrator can enable or disable all the K values as needed to consider the other Vector metrics.
For the purposes of comparing routes, these are combined together in a weighted formula to produce a single overall metric:
where the various constants (K1{\displaystyle K_{1}}throughK5{\displaystyle K_{5}}) can be set by the user to produce varying behaviors. An important and unintuitive fact is that ifK5{\displaystyle K_{5}}is set to zero, the termK5K4+Reliability{\displaystyle {\tfrac {K_{5}}{K_{4}+{\text{Reliability}}}}}is not used (i.e. taken as 1).
The default is forK1{\displaystyle K_{1}}andK3{\displaystyle K_{3}}to be set to 1, and the rest to zero, effectively reducing the above formula to(BandwidthE+DelayE)⋅256{\displaystyle ({\text{Bandwidth}}_{E}+{\text{Delay}}_{E})\cdot 256}.
Obviously, these constants must be set to the same value on all routers in an EIGRP system, or permanentrouting loopsmay result. Cisco routers running EIGRP will not form an EIGRP adjacency and will complain about K-values mismatch until these values are identical on these routers.
EIGRP scales the interfaceBandwidthandDelayconfiguration values with following calculations:
On Cisco routers, the interface bandwidth is a configurable static parameter expressed in kilobits per second (setting this only affects metric calculation and not actual line bandwidth). Dividing a value of 10kbit/s (i.e. 10 Gbit/s) by the interface bandwidth statement value yields a result that is used in the weighted formula. The interface delay is a configurable static parameter expressed in tens of microseconds. EIGRP takes this value directly without scaling into the weighted formula. However, variousshowcommands display the interface delay in microseconds. Therefore, if given a delay value in microseconds, it must first be divided by 10 before using it in the weighted formula.
IGRPuses the same basic formula for computing the overall metric, the only difference is that in IGRP, the formula does not contain the scaling factor of 256. In fact, this scaling factor was introduced as a simple means to facilitate backward compatility between EIGRP and IGRP: In IGRP, the overall metric is a 24-bit value while EIGRP uses a 32-bit value to express this metric. By multiplying a 24-bit value with the factor of 256 (effectively bit-shifting it 8 bits to the left), the value is extended into 32 bits, and vice versa. This way, redistributing information between EIGRP and IGRP involves simply dividing or multiplying the metric value by a factor of 256, which is done automatically.
A feasible successor for a particular destination is a next hop router that is guaranteed not to be a part of arouting loop. This condition is verified by testing thefeasibility condition.
Thus, every successor is also a feasible successor. However, in most references about EIGRP the termfeasible successoris used to denote only those routes which provide a loop-free path but which are not successors (i.e. they do not provide the least distance). From this point of view, for a reachable destination, there is always at least one successor, however, there might not be any feasible successors.
A feasible successor provides a working route to the same destination, although with a higher distance. At any time, a router can send a packet to a destination marked "Passive" through any of its successors or feasible successors without alerting them in the first place, and this packet will be delivered properly. Feasible successors are also recorded in the topology table.
The feasible successor effectively provides a backup route in the case that existing successors become unavailable. Also, when performing unequal-cost load-balancing (balancing the network traffic in inverse proportion to the cost of the routes), the feasible successors are used as next hops in the routing table for the load-balanced destination.
By default, the total count of successors and feasible successors for a destination stored in the routing table is limited to four. This limit can be changed in the range from 1 to 6. In more recent versions of Cisco IOS (e.g. 12.4), this range is between 1 and 16.
A destination in the topology table can be marked either aspassiveoractive. A passive state is a state when the router has identified the successor(s) for the destination. The destination changes toactivestate when the current successor no longer satisfies thefeasibility conditionand there are no feasible successors identified for that destination (i.e. no backup routes are available). The destination changes back fromactivetopassivewhen the router received replies to all queries it has sent to its neighbors. Notice that if a successor stops satisfying the feasibility condition but there is at least one feasible successor available, the router will promote a feasible successor with the lowest total distance (the distance as reported by the feasible successor plus the cost of the link to this neighbor) to a new successor and the destination will remain in thepassivestate.
The feasibility condition is a sufficient condition for loop freedom in EIGRP-routed network. It is used to select the successors and feasible successors that are guaranteed to be on a loop-free route to a destination. Its simplified formulation is strikingly simple:
or in other words,
It is important to realize that this condition is a sufficient, not a necessary, condition. That means that neighbors which satisfy this condition are guaranteed to be on a loop-free path to some destination, however, there may be also other neighbors on a loop-free path which do not satisfy this condition. However, such neighbors do not provide the shortest path to a destination, therefore, not using them does not present any significant impairment of the network functionality. These neighbors will be re-evaluated for possible usage if the router transitions to Active state for that destination.
EIGRP features load balancing on paths with different costs. A multiplier, called variance, is used to determine which paths to include into load balancing. The variance is set to 1 by default, which means load balancing on equal cost paths. The maximum variance is 128. The minimummetricof a route is multiplied by the variance value. Each path with a metric that is smaller than the result is used in load balancing.
With the functionality of the Unequal Path Cost Load Balancing on EIGRP,OSPFprotocol is unable to design the network by Unequal Path Cost Load Balancing. Regarding the Unequal Path Cost Load Balancing function on industry usage, the network design can be flexible with the traffic management.
Cisco released details of the proprietary EIGRP routing protocol in anRFCin an effort to assist companies whose networks operate in a multi-vendor environment. The protocol is described inRFC7868. EIGRP was developed 20 years ago, yet it is still one of the primary Cisco routing protocols due to its purportedusabilityandscalabilityin comparison to otherprotocols.
Cisco has stated that EIGRP is anopen standardbut they leave out several core details in theRFCdefinition which makesinteroperabilityhard to set up between different vendors' routers when the protocol is used. EvenCisco NX-OSfor example does not support unequal cost load balancing.
As of 2022 EIGRP has alpha support inFRRoutingand it seems to be generally unsupported by otherrouting software.