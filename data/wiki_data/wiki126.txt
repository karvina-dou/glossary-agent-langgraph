TheSecure Shell Protocol(SSH Protocol) is acryptographicnetwork protocolfor operatingnetwork servicessecurely over an unsecured network.Its most notable applications are remoteloginandcommand-lineexecution.
SSH was designed forUnix-likeoperating systems as a replacement forTelnetandunsecuredremoteUnix shellprotocols, such as the BerkeleyRemote Shell(rsh) and the relatedrloginandrexecprotocols, which all use insecure,plaintextmethods of authentication, likepasswords.
Since mechanisms likeTelnetandRemote Shellare designed to access and operate remote computers, sending the authentication tokens (e.g. username andpassword) for this access to these computers across a public network in an unsecured way poses a great risk of 3rd parties obtaining the password and achieving the same level of access to the remote system as the telnet user. Secure Shell mitigates this risk through the use of encryption mechanisms that are intended to hide the contents of the transmission from an observer, even if the observer has access to the entire data stream.
Finnish computer scientist Tatu Ylönen designed SSH in 1995 and provided an implementation in the form of two commands,sshandslogin, as secure replacements forrshandrlogin, respectively. Subsequent development of the protocol suite proceeded in several developer groups, producing several variants of implementation. The protocol specification distinguishes two major versions, referred to as SSH-1 and SSH-2. The most commonly implemented software stack isOpenSSH, released in 1999 as open-source software by theOpenBSDdevelopers. Implementations are distributed for all types of operating systems in common use, including embedded systems.
SSH applications are based on aclient–serverarchitecture, connecting anSSH clientinstance with anSSH server.SSH operates as a layered protocol suite comprising three principal hierarchical components: thetransport layerprovides server authentication, confidentiality, and integrity; theuser authentication protocolvalidates the user to the server; and theconnection protocolmultiplexes the encrypted tunnel into multiple logical communication channels.
SSH usespublic-key cryptographytoauthenticatethe remote computer and allow it to authenticate the user, if necessary.
SSH may be used in several methodologies. In the simplest manner, both ends of a communication channel use automatically generated public-private key pairs to encrypt a network connection, and then use apasswordto authenticate the user.
When the public-private key pair is generated by the user manually, the authentication is essentially performed when the key pair is created, and a session may then be opened automatically without a password prompt. In this scenario, the public key is placed on all computers that must allow access to the owner of the matching private key, which the owner keeps private. While authentication is based on the private key, the key is never transferred through the network during authentication. SSH only verifies that the same person offering the public key also owns the matching private key.
In all versions of SSH it is important to verify unknownpublic keys, i.e.associate the public keys with identities, before accepting them as valid. Accepting an attacker's public key without validation will authorize an unauthorized attacker as a valid user.
OnUnix-likesystems, the list of authorized public keys is typically stored in the home directory of the user that is allowed to log in remotely, in the file~/.ssh/authorized_keys.This file is respected by SSH only if it is not writable by anything apart from the owner and root. When the public key is present on the remote end and the matching private key is present on the local end, typing in the password is no longer required. However, for additional security the private key itself can be locked with a passphrase.
The private key can also be looked for in standard places, and its full path can be specified as a command line setting (the option-ifor ssh). Thessh-keygenutility produces the public and private keys, always in pairs.
SSH is typically used to log into a remote computer'sshellorcommand-line interface(CLI) and to execute commands on a remote server. It also supports mechanisms fortunneling,forwardingofTCP portsandX11connections and it can be used to transfer files using the associatedSSH File Transfer Protocol(SFTP) orSecure Copy Protocol(SCP).
SSH uses theclient–server model. An SSHclientprogram is typically used for establishing connections to an SSHdaemon, such as sshd, accepting remote connections. Both are commonly present on most modernoperating systems, includingmacOS, most distributions ofLinux,OpenBSD,FreeBSD,NetBSD,SolarisandOpenVMS. Notably, versions ofWindowsprior to Windows 10 version 1709 do not include SSH by default, butproprietary,freewareandopen sourceversions of various levels of complexity and completeness did and do exist (seeComparison of SSH clients). In 2018Microsoftbegan porting theOpenSSHsource code to Windowsand inWindows 10 version 1709, an official Win32 port of OpenSSH is now available.
File managers for UNIX-like systems (e.g.Konqueror) can use theFISHprotocol to provide a split-pane GUI with drag-and-drop.  The open source Windows programWinSCPprovides similar file management (synchronization, copy, remote delete) capability using PuTTY as a back-end.  Both WinSCPand PuTTYare available packaged to run directly off a USB drive, without requiring installation on the client machine. Crostini onChromeOScomes with OpenSSH by default. Setting up an SSH server in Windows typically involves enabling a feature in the Settings app.
SSH is important incloud computingto solve connectivity problems, avoiding the security issues of exposing a cloud-based virtual machine directly on the Internet. An SSH tunnel can provide a secure path over the Internet, through a firewall to a virtual machine.
TheIANAhas assignedTCPport22,UDPport 22 andSCTPport 22 for this protocol.IANA had listed the standard TCP port 22 for SSH servers as one of thewell-known portsas early as 2001.SSH can also be run usingSCTPrather than TCP as the connection oriented transport layer protocol.
In 1995,Tatu Ylönen, a researcher atHelsinki University of Technologyin Finland designed the first version of the protocol (now calledSSH-1) prompted by a password-sniffingattack at hisuniversity network.The goal of SSH was to replace the earlierrlogin,TELNET,FTPandrshprotocols, which did not provide strong authentication nor guarantee confidentiality. He chose the port number 22 because it is betweentelnet(port 23) andftp(port 21).
Ylönen released his implementation asfreewarein July 1995, and the tool quickly gained in popularity. Towards the end of 1995, the SSH user base had grown to 20,000 users in fifty countries.
In December 1995, Ylönen foundedSSH Communications Securityto market and develop SSH. The original version of the SSH software used various pieces offree software, such asGNU libgmp, but later versions released by SSH Communications Security evolved into increasinglyproprietary software.
It was estimated that by 2000 the number of users had grown to 2 million.
In 2006, after being discussed in a working group named "secsh",a revised version of the SSH protocol,SSH-2was adopted as a standard.This version offers improved security and new features, but is not compatible with SSH-1. For example, it introduces new key-exchange mechanisms likeDiffie–Hellman key exchange, improveddata integritychecking viamessage authentication codeslikeMD5orSHA-1, which can be negotiated between client and server. SSH-2 also adds stronger encryption methods likeAESwhich eventually replaced weaker and compromised ciphers from the previous standard like3-des.New features of SSH-2 include the ability to run any number ofshellsessions over a single SSH connection.Due to SSH-2's superiority and popularity over SSH-1, some implementations such as libssh (v0.8.0+),LshandDropbeareventually supported only the SSH-2 protocol.
In January 2006, well after version 2.1 was established,RFC4253specified that an SSH server supporting 2.0 as well as prior versions should identify its protocol version as 1.99.This version number does not reflect a historical software revision, but a method to identifybackward compatibility.
In 1999, developers, desiring availability of a free software version, restarted software development from the 1.2.12 release of the original SSH program, which was the last released under anopen source license.This served as a code base for Björn Grönvall's OSSH software.Shortly thereafter,OpenBSDdevelopersforkedGrönvall's code and createdOpenSSH, which shipped with Release 2.6 of OpenBSD. From this version, a "portability" branch was formed to port OpenSSH to other operating systems.
As of 2005,OpenSSHwas the single most popular SSH implementation, being the default version in a large number of operating system distributions. OSSH meanwhile has become obsolete.OpenSSH continues to be maintained and supports the SSH-2 protocol, having expunged SSH-1 support from the codebase in the OpenSSH 7.6 release.
In 2023, an alternative to traditional SSH was proposed under the name SSH3by PhD student François Michel and Professor Olivier Bonaventure and its code has been made open source.This new version implements the original SSH Connection Protocol but operates on top ofHTTP/3, which runs onQUIC. It offers multiple features such as:
However, the name SSH3 is under discussion, and the project aims to rename itself to a more suitable name.The discussion stems from the fact that this new implementation significantly revises the SSH protocol, suggesting it should not be called SSH3.
SSH is a protocol that can be used for many applications across many platforms including mostUnixvariants (Linux, theBSDsincludingApple'smacOS, andSolaris), as well asMicrosoft Windows. Some of the applications below may require features that are only available or compatible with specific SSH clients or servers. For example, using the SSH protocol to implement aVPNis possible, but presently only with theOpenSSHserver and client implementation.
The Secure Shell protocols are used in several file transfer mechanisms.
The SSH protocol has a layered architecture with three separate components:
This open architecture provides considerable flexibility, allowing the use of SSH for a variety of purposes beyond a secure shell. The functionality of the transport layer alone is comparable toTransport Layer Security(TLS); the user-authentication layer is highly extensible with custom authentication methods; and the connection layer provides the ability to multiplex many secondary sessions into a single SSH connection, a feature comparable toBEEPand not available in TLS.
In 1998, a vulnerability was described in SSH 1.5 which allowed the unauthorized insertion of content into an encrypted SSH stream due to insufficient data integrity protection fromCRC-32used in this version of the protocol.A fix known as SSH Compensation Attack Detectorwas introduced into most implementations. Many of these updated implementations contained a newinteger overflowvulnerabilitythat allowed attackers to execute arbitrary code with the privileges of the SSH daemon, typically root.
In January 2001 a vulnerability was discovered that allows attackers to modify the last block of anIDEA-encrypted session.The same month, another vulnerability was discovered that allowed a malicious server to forward a client authentication to another server.
Since SSH-1 has inherent design flaws which make it vulnerable, it is now generally considered obsolete and should be avoided by explicitly disabling fallback to SSH-1.Most modern servers and clients support SSH-2.
In November 2008, a theoretical vulnerability was discovered for all versions of SSH which allowed recovery of up to 32 bits of plaintext from a block of ciphertext that was encrypted using what was then the standard default encryption mode,CBC.The most straightforward solution is to useCTR, counter mode, instead of CBC mode, since this renders SSH resistant to the attack.
On December 28, 2014Der Spiegelpublished classified informationleaked by whistleblowerEdward Snowdenwhich suggests that theNational Security Agencymay be able to decrypt some SSH traffic. The technical details associated with such a process were not disclosed. A 2017 analysis of theCIAhacking toolsBothanSpyandGyrfalconsuggested that the SSH protocol was not compromised.
A novel man-in-the-middle attack against most current ssh implementations was discovered in 2023. It was named theTerrapin attackby its discoverers.However, the risk is mitigated by the requirement to intercept a genuine ssh session, and that the attack is restricted in its scope, fortuitously resulting mostly in failed connections.The ssh developers have stated that the major impact of the attack is to degrade thekeystroke timingobfuscation features of ssh.The vulnerability was fixed in OpenSSH 9.6, but requires both client and server to be upgraded for the fix to be fully effective.
The followingRFCpublications by theIETF"secsh"working groupdocument SSH-2 as a proposedInternet standard.
The protocol specifications were later updated by the following publications:
In addition, theOpenSSHproject includes several vendor protocol specifications/extensions: